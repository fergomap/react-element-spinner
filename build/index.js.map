{"version":3,"file":"index.js","sources":["../src/components/spinner/config/spinner.config.tsx","../src/components/spinner/model/position.enum.tsx","../src/components/spinner/model/type.enum.tsx","../src/components/spinner/services/spinner.service.tsx","../src/components/spinner/spinner.component.tsx"],"sourcesContent":["interface SpinnerConfig {\n    DEFAULT_COLORS: {\n        BLUE: string;\n        WHITE: string;\n        BACKGROUND: string;\n        SECONDARY: string;\n    };\n    FONT_SIZE: {\n        CIRCLE_DOTS: number;\n        CIRCLE_DOTS_COLLAPSE: number;\n    };\n    ASPECT_RATIO: {\n        CENTERED_DEFAULT: number;\n        CENTERED_NOT_DEFAULT: number;\n        CIRCLE_DOTS: number;\n        CIRCLE_DOTS_COLLAPSE: number;\n    };\n}\n\nexport const SPINNER_CONSTANTS: SpinnerConfig = {\n    DEFAULT_COLORS: {\n        BLUE: '#3578e5',\n        WHITE: '#ffffff',\n        BACKGROUND: '#d3d3d3',\n        SECONDARY: '#f3f3f3'\n    },\n    FONT_SIZE: {\n        CIRCLE_DOTS: 10,\n        CIRCLE_DOTS_COLLAPSE: 90\n    },\n    ASPECT_RATIO: {\n        CENTERED_DEFAULT: 5,\n        CENTERED_NOT_DEFAULT: 2,\n        CIRCLE_DOTS: 0.15,\n        CIRCLE_DOTS_COLLAPSE: 0.7\n    }\n};\n","// istanbul ignore file\n\nexport enum SpinnerPositionEnum {\n    INLINE = 'inline',\n    GLOBAL = 'global',\n    CENTERED = 'centered'\n}\n","// istanbul ignore file\n\nexport enum SpinnerTypeEnum {\n    DEFAULT = 'default',\n    CIRCLE_DOTS = 'circle-dots',\n    CIRCLE_DOTS_COLLAPSE = 'circle-dots-collapse'\n}\n","import {SpinnerTypeEnum} from \"../model/type.enum\";\nimport {SPINNER_CONSTANTS} from \"../config/spinner.config\";\n\nexport const getSpinnerFontSizeAspectRatio = (spinnerType?: SpinnerTypeEnum): number => {\n    switch (spinnerType) {\n        case SpinnerTypeEnum.CIRCLE_DOTS:\n            return SPINNER_CONSTANTS.ASPECT_RATIO.CIRCLE_DOTS;\n        case SpinnerTypeEnum.CIRCLE_DOTS_COLLAPSE:\n            return SPINNER_CONSTANTS.ASPECT_RATIO.CIRCLE_DOTS_COLLAPSE;\n        default:\n            return 0;\n    }\n};\n\nexport const getCenteredSpinnerFontSize = (referenceSize: number, spinnerType?: SpinnerTypeEnum): number => {\n    switch (spinnerType) {\n        case SpinnerTypeEnum.CIRCLE_DOTS:\n            return referenceSize > SPINNER_CONSTANTS.FONT_SIZE.CIRCLE_DOTS ? SPINNER_CONSTANTS.FONT_SIZE.CIRCLE_DOTS : referenceSize;\n        case SpinnerTypeEnum.CIRCLE_DOTS_COLLAPSE:\n            return referenceSize > SPINNER_CONSTANTS.FONT_SIZE.CIRCLE_DOTS_COLLAPSE ? SPINNER_CONSTANTS.FONT_SIZE.CIRCLE_DOTS_COLLAPSE : referenceSize;\n        default:\n            return 0;\n    }\n};\n\nexport const isDefaultSpinner = (spinnerType?: SpinnerTypeEnum): boolean => {\n    return !spinnerType || spinnerType === SpinnerTypeEnum.DEFAULT;\n};\n\nexport const parsePixelsToNumber = (pixels: string): number => {\n    return parseInt(pixels.replace('px', ''));\n};\n","import React, {ReactElement} from 'react';\nimport './spinner.component.scss';\nimport SpinnerComponentProps from './model/spinner.component.props';\nimport {SPINNER_CONSTANTS} from './config/spinner.config';\nimport {SpinnerPositionEnum} from './model/position.enum';\nimport {getCenteredSpinnerFontSize, getSpinnerFontSizeAspectRatio, isDefaultSpinner, parsePixelsToNumber} from './services/spinner.service';\nimport {SpinnerTypeEnum} from './model/type.enum';\n\nclass SpinnerComponent extends React.Component<SpinnerComponentProps, {}> {\n\n    private ref: any = React.createRef();\n\n    constructor(props: Readonly<SpinnerComponentProps>) {\n        super(props);\n\n        this.setUpSpinner = this.setUpSpinner.bind(this);\n        this.getContent = this.getContent.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.setUpSpinner();\n        if (this.props.resize && this.props.position === SpinnerPositionEnum.CENTERED) {\n            window.addEventListener('resize', this.setUpSpinner);\n        }\n    }\n\n    componentDidUpdate(): void {\n        this.setUpSpinner();\n    }\n\n    componentWillUnmount(): void {\n        if (this.props.resize && this.props.position === SpinnerPositionEnum.CENTERED) {\n            window.removeEventListener('resize', this.setUpSpinner);\n        }\n    }\n\n    setUpSpinner(): void {\n        this.ref.current.parentNode.disabled = this.props.loading;\n        const parentComputedStyle = window.getComputedStyle(this.ref.current.parentNode);\n\n        if (this.props.position === SpinnerPositionEnum.CENTERED) {\n            const borderWidth = parsePixelsToNumber(parentComputedStyle.getPropertyValue('border-bottom-width'));\n            const referenceSize = this.ref.current.parentNode.clientHeight > this.ref.current.parentNode.clientWidth ? this.ref.current.parentNode.clientWidth : this.ref.current.parentNode.clientHeight;\n\n            if (isDefaultSpinner(this.props.spinnerType)) {\n                const size = referenceSize / SPINNER_CONSTANTS.ASPECT_RATIO.CENTERED_DEFAULT + 'px';\n                this.ref.current.firstChild.style.width = size;\n                this.ref.current.firstChild.style.height = size;\n            } else {\n                this.ref.current.firstChild.style.fontSize = getCenteredSpinnerFontSize(referenceSize / SPINNER_CONSTANTS.ASPECT_RATIO.CENTERED_NOT_DEFAULT, this.props.spinnerType) + 'px';\n            }\n\n            this.ref.current.style.marginTop = '-' + parentComputedStyle.getPropertyValue('padding-top');\n            this.ref.current.style.marginLeft = '-' + parentComputedStyle.getPropertyValue('padding-left');\n            this.ref.current.style.width = (this.ref.current.parentNode.clientWidth + borderWidth) + 'px';\n            this.ref.current.style.height = (this.ref.current.parentNode.clientHeight + borderWidth) + 'px';\n        } else if (this.props.position === SpinnerPositionEnum.INLINE && !this.props.customSpinner) {\n            const fontSize = parentComputedStyle.getPropertyValue('font-size');\n            const fontSizeNumber = parsePixelsToNumber(fontSize);\n            this.ref.current.style.marginLeft = '5px';\n            this.ref.current.style.width = fontSize;\n            this.ref.current.style.minWidth = fontSize;\n            this.ref.current.style.height = fontSize;\n            this.ref.current.style.minHeight = fontSize;\n            this.ref.current.firstChild.style.fontSize = fontSizeNumber * getSpinnerFontSizeAspectRatio(this.props.spinnerType) + 'px';\n        }\n    }\n\n    getContent(): ReactElement {\n        if (this.props.customSpinner) {\n            return this.props.customSpinner;\n        } else {\n            const contentStyle = isDefaultSpinner(this.props.spinnerType) ?\n                { border: 'solid 3px ' + (this.props.secondaryColor || SPINNER_CONSTANTS.DEFAULT_COLORS.SECONDARY), borderTop: 'solid 3px ' + (this.props.color || SPINNER_CONSTANTS.DEFAULT_COLORS.BLUE) } :\n                { color: this.props.color || SPINNER_CONSTANTS.DEFAULT_COLORS.WHITE };\n            return <div className={`loader ${this.props.spinnerType || SpinnerTypeEnum.DEFAULT}`} style={contentStyle}/>;\n        }\n    }\n\n    render(): ReactElement {\n        const background = this.props.position !== SpinnerPositionEnum.INLINE && <div className=\"background\" style={{backgroundColor: this.props.backgroundColor || SPINNER_CONSTANTS.DEFAULT_COLORS.BACKGROUND}}/>;\n\n        return <div ref={this.ref} className={`loader-container ${this.props.loading ? '' : 'hidden'} ${this.props.position}`}>\n                { this.getContent() }\n                { background }\n            </div>;\n    }\n}\n\nexport default SpinnerComponent;\n"],"names":["SpinnerPositionEnum","SpinnerTypeEnum"],"mappings":"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"}